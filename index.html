<!DOCTYPE html>
<html>
<head>
<style>
.progress {
  /*
  width: 100%;
  background-color: #ddd;
  border-radius: 3px;
  */
}

.bar {
  font-family: monospace;
  white-space: pre;
  /*
  width: 0%;
  height: 30px;
  background-color: #4CAF50;
  border-radius: 3px;
  */
}

/* https://www.pexels.com/blog/css-only-loaders/ */
.busyBar {
  font-family: monospace;
  white-space: pre;
  /*
  width: 100%;
  height: 30px;
  border-radius: 3px;
  background-image: 
    repeating-linear-gradient(
      -45deg,
      #4CAF50,
      #4CAF50 22px,
      #ddd 20px,
      #ddd 40px
    );
  background-size: 56px 56px;
  animation: move 5s linear infinite;
  visibility: hidden;
  */
}

@keyframes move {
  0% {
    background-position: 0 0;
  }
  100% {
    background-position: 56px 0;
  }
}

.divparent div {
    float: left; 
}
</style>
<title>FujiConvert</title>
<script src="jszip.min.js"></script>
<script src="players.js"></script>
<script src="resamp.js"></script>
<script src="index.js"></script>
</head>
<body onload="init()">

<h1>FujiConvert</h1>

<table width="100%">
<tr>
<td width="30%" valign="top">
<h3>Settings</h3>

<form action="" id="settings">
<div>
<div>
    Playback Method:<br>
    <input type="radio" name="method" value="pcm4+4" checked> PCM4+4<br>
    <input type="radio" name="method" value="pcm4"> PCM4<br>
    <input type="radio" name="method" value="pwm"> PWM<br>
    <input type="radio" name="method" value="covox"> Covox
    <!--
    <select>
    <option value="D600">$D600</option>
    <option value="D600">$D700</option>
    </select>
    -->
    at $D600
    <br>
</div>
<div>
    Channels:<br>
    <input type="radio" name="channels" value="mono" checked> Mono<br>
    <input type="radio" name="channels" value="stereo"> Stereo<br>
</div>
<div>
    Region:<br>
    <input type="radio" name="region" value="pal" checked> PAL<br>
    <input type="radio" name="region" value="ntsc"> NTSC<br>
</div>
<div>
    Frequency:<br>
    <!-- <input type="radio" name="frequency" value="58kHz"> 58kHz<br> -->
    <!-- <input type="radio" name="frequency" value="48kHz"> 48kHz<br> -->
    <input type="radio" name="frequency" value="47kHz"> 47kHz<br>
    <input type="radio" name="frequency" value="44kHz"> 44kHz<br>
    <input type="radio" name="frequency" value="33kHz"> 33kHz<br>
    <input type="radio" name="frequency" value="31kHz" checked> 31kHz<br>
    <input type="radio" name="frequency" value="22kHz"> 22kHz<br>
    <input type="radio" name="frequency" value="15kHz"> 15kHz<br>
    <input type="radio" name="frequency" value="8kHz"> 8kHz<br>
</div>
    Resampling Effort:
    <select name="resampling_effort">
    <option value="ultra">Ultra</option>
    <option value="high">High</option>
    <option value="medium">Medium</option>
    <option value="low">Low</option>
    <option value="none" selected>None</option>
    </select><br>
    Dither: <input type="checkbox" name="dither"><br>
    Gain: <input type="text" name="gain" value="1"><br>
    Offset: <input type="text" name="offset" value="0"><br>
    Duration: <input type="text" name="duration" value="-1"><br>
    Title: <input type="text" name="title" value=""><br>
    Artist: <input type="text" name="artist" value=""><br>
<div>
    Output Media:<br>
    <input type="radio" name="media" value="ram"> RAM XEX<br>
    <input type="radio" name="media" value="emulator"> Emulator Stream XEX<br>
    <input type="radio" name="media" value="ide"> IDE player (flashjazzcat)<br>
    <input type="radio" name="media" value="thecart" checked> The!Cart<br>
    <input type="radio" name="media" value="atarimax"> Atarimax<br>
    <input type="radio" name="media" value="megamax"> MegaMax<br>
    <input type="radio" name="media" value="megacart"> MegaCart<br>
    <input type="radio" name="media" value="xegs"> XEGS<br>
    <input type="radio" name="media" value="sic"> SIC!<br>
</div>
<div>
    Max size:
    <select name="maxsize">
    <option value="16K"> 16K</option>
    <option value="80K"> 80K</option>
    <option value="256K"> 256K</option>
    <option value="512K"> 512K</option>
    <option value="1M"> 1M</option>
    <option value="2M"> 2M</option>
    <option value="4M"> 4M</option>
    <option value="32M"> 32M</option>
    <option value="64M"> 64M</option>
    <option value="128M" selected> 128M</option>
    <option value="unlimited"> Unlimited</option>
    </select>
</div>
</div>
</form>

</td>
<td valign="top">
<h3>Select Input Media</h3>

<input type="file" id="file-input" />
<button id="reconvert">Reconvert</button>

<h3>Constrained Settings</h3>

<pre id="settingsText"></pre>

<h3>Read</h3>

<div id="readProgress" class="progress">
<div id="readBar" class="bar">
</div>
</div>
<pre id="readMessage"></pre>

<h3>Decode and Resample</h3>

<!--
<div id="decodeBusyBack" class="progress">
<div id="decodeBusy" class="busyBar">
-->
<div id="decodeProgress" class="progress">
<div id="decodeBar" class="bar">
</div>
</div>
<pre id="decodeMessage"></pre>

<h3>Convert</h3>

<div id="convertProgress" class="progress">
<div id="convertBar" class="bar">
</div>
</div>
<pre id="convertMessage"></pre>

<h3>Zip</h3>

<div id="zipBusyBack" class="progress">
<div id="zipBusy" class="busyBar">
</div>
</div>
<pre id="zipMessage"></pre>

<h3>Download</h3>

<div id="controls" class="divparent" style="visibility: hidden">
Link: <a id="download"></a><br>
Preview: <a id="preview"></a>
<button id="play">Play</button>
<button id="stop">Stop</button>
</div>
</td>
</tr>
</table>

By Xuel. 2018. MIT License.<br>
<a href="https://github.com/lybrown/fujiconvert">Github</a> Version <b id="version">X.X</b>

</body>
</html>
